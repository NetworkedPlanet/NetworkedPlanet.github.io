<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- saved from url=(0029)http://www.helpandmanual.com/ -->
<head>
   <title>Populating a Topic Map With Data</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
<script type="text/javascript" src="helpman_topicinit.js"></script>
<!-- Redirect browser to frame page if page is not in the content frame. -->
<script type="text/javascript">
<!--
if (location.search.lastIndexOf("toc=0")<=0) {
  if (parent.frames.length==0) { parent.location.href="index.html?populating_a_topic_map_with_da.htm"; }
  else { parent.quicksync('a6.4.6');  parent.track('topic', location.href);}
}
//-->
</script>
<script type="text/javascript" src="highlight.js"></script></head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;" onload="highlight();">
<div id="hmpopupDiv" style="visibility:hidden; position:absolute; z-index:1000; "></div>


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#D0D0D0">
  <tr valign="middle">
    <td align="left">
      <p class="p_Heading1"><span class="f_Heading1">Populating a Topic Map With Data</span></p>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="introduction.htm">Top</a>&nbsp;
     <a href="creating_a_topic_map.htm">Previous</a>&nbsp;
     <a href="merging_topics.htm">Next</a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p class="p_SectionHeading">The main use for the client is to create topic map data, e.g. topics, topic properties and associations. The following example shows how to create topic map data. Notice how it uses the subject identifiers (from the SchemaConstants class) for types &nbsp;and not the schema objects.</p>
<p>&nbsp;</p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp;  </span><span style="font-family: 'Consolas'; color: #808080;">///</span><span style="font-family: 'Consolas'; color: #008000;"> </span><span style="font-family: 'Consolas'; color: #808080;">&lt;summary&gt;</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp;  </span><span style="font-family: 'Consolas'; color: #808080;">///</span><span style="font-family: 'Consolas'; color: #008000;"> Populates the topic map with two topics and an association between them</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp;  </span><span style="font-family: 'Consolas'; color: #808080;">///</span><span style="font-family: 'Consolas'; color: #008000;"> </span><span style="font-family: 'Consolas'; color: #808080;">&lt;/summary&gt;</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp;  </span><span style="font-family: 'Consolas'; color: #808080;">///</span><span style="font-family: 'Consolas'; color: #008000;"> </span><span style="font-family: 'Consolas'; color: #808080;">&lt;param name="tmUri"&gt;</span><span style="font-family: 'Consolas'; color: #008000;">The web address of the topic map to be populated</span><span style="font-family: 'Consolas'; color: #808080;">&lt;/param&gt;</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp;  </span><span style="font-family: 'Consolas'; color: #808080;">///</span><span style="font-family: 'Consolas'; color: #008000;"> </span><span style="font-family: 'Consolas'; color: #808080;">&lt;returns&gt;</span><span style="font-family: 'Consolas'; color: #008000;">The web address of the person topic created</span><span style="font-family: 'Consolas'; color: #808080;">&lt;/returns&gt;</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp;  </span><span style="font-family: 'Consolas'; color: #0000ff;">private</span><span style="font-family: 'Consolas';"> </span><span style="font-family: 'Consolas'; color: #0000ff;">static</span><span style="font-family: 'Consolas';"> </span><span style="font-family: 'Consolas'; color: #2b91af;">Uri</span><span style="font-family: 'Consolas';"> CreatePerson(</span><span style="font-family: 'Consolas'; color: #2b91af;">Uri</span><span style="font-family: 'Consolas';"> tmUri)</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp;{</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  </span><span style="font-family: 'Consolas'; color: #008000;">// create a topic map service client and retrieve the specified topic map</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  </span><span style="font-family: 'Consolas'; color: #0000ff;">var</span><span style="font-family: 'Consolas';"> client = </span><span style="font-family: 'Consolas'; color: #0000ff;">new</span><span style="font-family: 'Consolas';"> </span><span style="font-family: 'Consolas'; color: #2b91af;">TopicMapServiceClient</span><span style="font-family: 'Consolas';">();</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  </span><span style="font-family: 'Consolas'; color: #0000ff;">var</span><span style="font-family: 'Consolas';"> tm = client.GetTopicMap(tmUri);</span></p>
<p>&nbsp;</p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  </span><span style="font-family: 'Consolas'; color: #008000;">// create a new topic with a single label and a subject identifier</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  </span><span style="font-family: 'Consolas'; color: #0000ff;">var</span><span style="font-family: 'Consolas';"> gra = tm.CreateTopic(</span><span style="font-family: 'Consolas'; color: #a31515;">"graham"</span><span style="font-family: 'Consolas';">, </span><span style="font-family: 'Consolas'; color: #a31515;">"en"</span><span style="font-family: 'Consolas';">, </span><span style="font-family: 'Consolas'; color: #0000ff;">new</span><span style="font-family: 'Consolas';"> </span><span style="font-family: 'Consolas'; color: #2b91af;">Uri</span><span style="font-family: 'Consolas';">(</span><span style="font-family: 'Consolas'; color: #a31515;">"http://www.networkedplanet.com/people/gra"</span><span style="font-family: 'Consolas';">));</span></p>
<p>&nbsp;</p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  </span><span style="font-family: 'Consolas'; color: #008000;">// set the type on the topic</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;gra.AddType(</span><span style="font-family: 'Consolas'; color: #0000ff;">new</span><span style="font-family: 'Consolas';"> </span><span style="font-family: 'Consolas'; color: #2b91af;">Uri</span><span style="font-family: 'Consolas';">(</span><span style="font-family: 'Consolas'; color: #2b91af;">SchemaConstants</span><span style="font-family: 'Consolas';">.Person));</span></p>
<p>&nbsp;</p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  </span><span style="font-family: 'Consolas'; color: #008000;">// add an age and description property</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;gra.AddProperty(</span><span style="font-family: 'Consolas'; color: #0000ff;">new</span><span style="font-family: 'Consolas';"> </span><span style="font-family: 'Consolas'; color: #2b91af;">Uri</span><span style="font-family: 'Consolas';">(</span><span style="font-family: 'Consolas'; color: #2b91af;">SchemaConstants</span><span style="font-family: 'Consolas';">.Age), </span><span style="font-family: 'Consolas'; color: #0000ff;">new</span><span style="font-family: 'Consolas';"> </span><span style="font-family: 'Consolas'; color: #2b91af;">Uri</span><span style="font-family: 'Consolas';">(</span><span style="font-family: 'Consolas'; color: #2b91af;">OccurrenceDataTypes</span><span style="font-family: 'Consolas';">.Int), 23);</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;gra.AddProperty(</span><span style="font-family: 'Consolas'; color: #0000ff;">new</span><span style="font-family: 'Consolas';"> </span><span style="font-family: 'Consolas'; color: #2b91af;">Uri</span><span style="font-family: 'Consolas';">(</span><span style="font-family: 'Consolas'; color: #2b91af;">SchemaConstants</span><span style="font-family: 'Consolas';">.Description), </span><span style="font-family: 'Consolas'; color: #0000ff;">new</span><span style="font-family: 'Consolas';"> </span><span style="font-family: 'Consolas'; color: #2b91af;">Uri</span><span style="font-family: 'Consolas';">(</span><span style="font-family: 'Consolas'; color: #2b91af;">OccurrenceDataTypes</span><span style="font-family: 'Consolas';">.String), </span><span style="font-family: 'Consolas'; color: #a31515;">"Graham Moore is director of Networked Planet"</span><span style="font-family: 'Consolas';">);</span></p>
<p>&nbsp;</p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  </span><span style="font-family: 'Consolas'; color: #008000;">// create the topic networkedplanet</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  </span><span style="font-family: 'Consolas'; color: #0000ff;">var</span><span style="font-family: 'Consolas';"> np = tm.CreateTopic(</span><span style="font-family: 'Consolas'; color: #a31515;">"networked planet"</span><span style="font-family: 'Consolas';">, </span><span style="font-family: 'Consolas'; color: #a31515;">"en"</span><span style="font-family: 'Consolas';">, </span><span style="font-family: 'Consolas'; color: #0000ff;">new</span><span style="font-family: 'Consolas';"> </span><span style="font-family: 'Consolas'; color: #2b91af;">Uri</span><span style="font-family: 'Consolas';">(</span><span style="font-family: 'Consolas'; color: #a31515;">"http://www.networkedplanet.com/companies/networkedplanet"</span><span style="font-family: 'Consolas';">));</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;np.AddType(</span><span style="font-family: 'Consolas'; color: #0000ff;">new</span><span style="font-family: 'Consolas';"> </span><span style="font-family: 'Consolas'; color: #2b91af;">Uri</span><span style="font-family: 'Consolas';">(</span><span style="font-family: 'Consolas'; color: #2b91af;">SchemaConstants</span><span style="font-family: 'Consolas';">.Company));</span></p>
<p>&nbsp;</p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  </span><span style="font-family: 'Consolas'; color: #008000;">// create an associatin between graham and networked planet</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tm.CreateAssociation(</span><span style="font-family: 'Consolas'; color: #0000ff;">new</span><span style="font-family: 'Consolas';"> </span><span style="font-family: 'Consolas'; color: #2b91af;">Uri</span><span style="font-family: 'Consolas';">(</span><span style="font-family: 'Consolas'; color: #2b91af;">SchemaConstants</span><span style="font-family: 'Consolas';">.WorksFor),</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gra.WebAddress, </span><span style="font-family: 'Consolas'; color: #0000ff;">new</span><span style="font-family: 'Consolas';"> </span><span style="font-family: 'Consolas'; color: #2b91af;">Uri</span><span style="font-family: 'Consolas';">(</span><span style="font-family: 'Consolas'; color: #2b91af;">SchemaConstants</span><span style="font-family: 'Consolas';">.Employee),</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; np.WebAddress, </span><span style="font-family: 'Consolas'; color: #0000ff;">new</span><span style="font-family: 'Consolas';"> </span><span style="font-family: 'Consolas'; color: #2b91af;">Uri</span><span style="font-family: 'Consolas';">(</span><span style="font-family: 'Consolas'; color: #2b91af;">SchemaConstants</span><span style="font-family: 'Consolas';">.Employer));</span></p>
<p>&nbsp;</p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  </span><span style="font-family: 'Consolas'; color: #008000;">// save all the changes to the topic map</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tm.SaveChanges();</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  </span><span style="font-family: 'Consolas'; color: #0000ff;">return</span><span style="font-family: 'Consolas';"> gra.WebAddress;</span></p>
<p><span style="font-family: 'Consolas';"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></p>

</td></tr></table>

</body>
</html>
